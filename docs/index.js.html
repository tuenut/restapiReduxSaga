<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: index.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: index.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import {ApiManagerSingleton} from "./manager";


/** Config for `api`-object.
 * Describes how you configure api resource: name of property, url-path, and
 *  does it has custom behavior through custom `ApiResource`-class.
 *
 * @typedef ApiConfig
 * @property {string} name - Name of api resource. Uses as name of `api`-object
 *  property, also may be url-path if `path`-parameter does not provided.
 * @property {string} [path] - Url-path for RESTApi resource. Can be ommited.
 * @property {ApiResource} [_class] - Your custom class for api resource.
 *  Should be extends by `ApiResource`.
 * */


/** Uses to configure api.
 *
 * @method configureApi
 *
 * @param {string} [host] - `baseUrl`-parameter for axios.
 * @param {Array&lt;string|ApiConfig>} [config] - api resources config list.
 *  List element can be `string` for default behavior or may be customized
 *  with `ApiConfig`-objects.
 * @param {object | Function} [commonHeaders] - Request headers for axios.
 *  If pass function, then it will be call every time, when requst performed
 *  to get dynamically generated headers.
 * @param {AxiosRequestConfig} [axiosConfig] - Configuration for axios.
 *  Headers part will merge with `commonHeaders` and `commonHeaders` will
 *  override axios config headers with same names.
 * */
export const configureApi = (host, config, headers, axiosConfig) =>
  ApiManagerSingleton.getInstance().configure(host, config, headers, axiosConfig);

/** Uses to get configured `api`-object for usage in any point of your app.
 *
 * @method getApi
 *
 * @throws {ShouldBeConfigured} If called before `configureApi` calls throws
 *  `ShouldBeConfigured`, means api does not configured yet.
 *
 * @example
 * // In that example we have three resources from RESTApi server:
 * //  customers, products and orders.
 * // Each resource implements standart CRUD methods also `orders` provide
 * //  extra method `complete` to completes order by its id.
 *
 * class OrderResourceWithCompleteAction extends ApiResource {
 *  complete(id) {
 *    return this.request("retrieve", this.url.retrieve(id, "complete"));
 *  }
 * }
 *
 * configure(
 *  "http://example.com/",
 *  [
 *    "customers",
 *    {
 *      name: "orders",
 *      path: "customer-orders/",
 *      _class: OrderResourceWithCompleteAction
 *    },
 *   {name: "products", path: "products"},
 *  ],
 * )
 * const api = getAPi();
 *
 * api.customers.retrieve(42);
 * api.orders.create([{id: 1, qty: 10}, {id:2, qty: 1}]);
 * api.orders.delete(10);
 * api.orders.complete(1);
 * */
export const getApi = () => ApiManagerSingleton.getApi();

</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ApiManagerSingleton.html">ApiManagerSingleton</a></li><li><a href="ApiRepository.html">ApiRepository</a></li><li><a href="ApiResource.html">ApiResource</a></li><li><a href="UrlConstructor.html">UrlConstructor</a></li></ul><h3>Global</h3><ul><li><a href="global.html#configureApi">configureApi</a></li><li><a href="global.html#getApi">getApi</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Wed Jul 14 2021 14:02:56 GMT+0300 (Moscow Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
